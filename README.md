
<p align="center">
  <a href="https://rebrand.ly/toluguweb">
    <img alt="LUGU - Lofi Music" title="LUGU - Lofi Music" src="https://firebasestorage.googleapis.com/v0/b/itcloudme.appspot.com/o/recursos%2Fdise%C3%B1o%2Fapp%2Flugu%2Frecursos%2FLugu%20-%20Lofi%20Music%20Banner%201024-500.gif?alt=media&token=abe38fbf-74be-43b0-b41e-7f34554e903d" width="1000">
  </a>
</p>

<h4 align="center">La mejor aplicación de radio lofi <br>
 para que te relajes en cualquier momento, estudies, trabajes o duermas escuchando música agradable <br>
¡solo disfrútala!.</h4>

<p align="center">
 
  <a href="https://rebrand.ly/gitluguapp">
    <img alt="Get it on Google Play" title="Google Play" src="http://i.imgur.com/mtGRPuM.png" width="140">
  </a>

 <a href="https://rebrand.ly/gitluguuptodown">
    <img alt="Download on the App Store" title="App Store" src="LuguRecursos/imagenes/iconos/uptodown.png" width="140">
  </a>

   <a href="https://rebrand.ly/gitluguaptoide">
    <img alt="Download on the Aptoide Store" title="App Store" src="LuguRecursos/imagenes/iconos/aptoide.png" width="140">
  </a>

</p>

<p align="center">
 <a href="">
    <img alt="website" title="App web" src="https://firebasestorage.googleapis.com/v0/b/itcloudme.appspot.com/o/recursos%2Fdise%C3%B1o%2Fapp%2Ficon%2Fbanner%2Fwebsite.png?alt=media&token=13207e5f-1e31-486b-a494-4dc4797a086d" width="140">
  </a>
 <a href="https://rebrand.ly/lugumixpanel">
    <img alt="mixpanel" title="Mixpanel" src="https://firebasestorage.googleapis.com/v0/b/itcloudme.appspot.com/o/recursos%2Fdise%C3%B1o%2Fapp%2Ficon%2Fbanner%2Fmixpanel.png?alt=media&token=562b91dc-5e81-4d91-ac78-f719b03ec55c" width="140">
  </a>
</p>

 <p align="center">
    <a href="#lugu---lofi-music">LUGU - Lofi Music</a>
    ·
    <a href="#Features">Features</a>
    ·
    <a href="#built-with-">Built With</a>
      ·
    <a href="#how-it-works">How It Works</a>
    <br />
  </p>


## LUGU - Lofi Music

![Current Version](https://img.shields.io/badge/version-1.3.3-green.svg) Primer lanzamiento en GooglePlay: 9 de enero de 2021.

LUGU - Lofi Music es una aplicación para dispositivos Android gracias a la cual podrás disfrutar de música del estilo Lofi sin límites. <br>
Escucha todas las creaciones de forma gratuita eligiendo el estilo que quieras.

**Disponible para Android.**

<p>
<img src="https://firebasestorage.googleapis.com/v0/b/itcloudme.appspot.com/o/recursos%2Fdise%C3%B1o%2Fapp%2Flugu%2Frecursos%2F5.png?alt=media&token=09711326-ca18-4f8e-b426-820e6ea74749" align="right"
     alt="SocialDown" width="216" height="384">
<img src="https://firebasestorage.googleapis.com/v0/b/itcloudme.appspot.com/o/recursos%2Fdise%C3%B1o%2Fapp%2Flugu%2Frecursos%2F2.png?alt=media&token=ae7399c6-e2b0-4569-a1cb-d7406b1d0b25" align="right"
     alt="SocialDown" width="216" height="384">
<img src="https://firebasestorage.googleapis.com/v0/b/itcloudme.appspot.com/o/recursos%2Fdise%C3%B1o%2Fapp%2Flugu%2Frecursos%2F1.png?alt=media&token=73015787-1f96-4186-bae4-ce29741228fa" align="right"
     alt="SocialDown" width="216" height="384">
	 </p>

## Features

Algunas de las cosas que puedes hacer en LUGU - Lofi Music:

* Disfrutar de la mejor música mientras te relajas.
* Seleccionar el estilo que mas te guste.
* Lista de recientes y favoritos.
* Tu decides cuando detener la música (Temporizador de sueño)
* Agregar canciones a favoritos.

<p align="center">
  <img src = "LuguRecursos/imagenes/capturas/es/features-lugu_es.gif" width=1000>
</p>


<p>
<img src="https://firebasestorage.googleapis.com/v0/b/itcloudme.appspot.com/o/recursos%2Fdise%C3%B1o%2Fapp%2Flugu%2Frecursos%2Flugu_demo.gif?alt=media&token=e71795cd-6274-4d48-aec4-60598b58624a" align="right"
     alt="lofiradio" width="320" height="686">
	 </p>


## Built With 🛠

- [Firebase](https://firebase.google.com/) - SDK de productos de Google.
  - [Firebase AdMob](https://firebase.google.com/docs/admob/) - Monetización atravez de anuncios.
  - [Firebase Analitycs](https://firebase.google.com/docs/crashlytics) - Rastreo de eventos y analisis.
  - [Firebase Crashlitycs](https://firebase.google.com/docs/crashlytics) - Informe de fallas en tiempo real.
  - [Firebase Hosting](https://firebase.google.com/docs/hosting/) - Hosting del sitio web https://lofiradioapp.com
  - [Firebase Realtime Database](https://firebase.google.com/docs/database/) - Uso de base de datos en la nube, en tiempo real.  
  - [Firebase Storage](https://firebase.google.com/docs/storage/) - Almacenamiento en la nube.
- [Alerter](https://github.com/Tapadoo/Alerter) - Notificaciones personalizadas.
- [Amplitude](https://github.com/amplitude/Amplitude-Android) - Rastreo de eventos personalizados.
- [DialogX](https://fontawesome.com) - Muestra diálogos personalizados de una manera simple y fácil.
- [Exoplayer](https://github.com/google/ExoPlayer) - Player de Android para reproducir audio y video.
- [Glide](https://github.com/bumptech/glide) - Cargue de imagenes y miniaturas.
- [HttpDownloadManager](https://github.com/coolerfall/Android-HttpDownloadManager) - Gestor de descarga de archivos.
- [Material Design](https://www.material.io/) - Estilo de diseño de Google. 
- [Mixpanel](https://mixpanel.com/es/) - Rastreo de eventos personalizados.
- [TedPermission](https://github.com/ParkSangGwon/TedPermission) - Manejo de solicitud de permisos en tiempo de ejecución.
- [TinyDB](https://github.com/kcochibili/TinyDB--Android-Shared-Preferences-Turbo) - Base de datos con SharedPreference. 
- [YoutubeExtractor](https://github.com/nhCoder/YouTubeExtractor) - Extrae el audio de videos de youtube.
  - [HaarigerHarald-YoutubeExtractor](https://github.com/HaarigerHarald/android-youtubeExtractor)
  - [nhCoder-YouTubeExtractor](https://github.com/nhCoder/YouTubeExtractor)



## How It Works

LUGU - Lofi music hace uso de librerias que permiten la extracción de audio de videos de youtube, 
estos videos son almacenados en [Firebase Realtime Database](https://firebase.google.com/docs/database/)
que al ser extraidos se ejecuta [Exoplayer](https://github.com/google/ExoPlayer) para la reprodución del audio.
Los datos de la canción son guardados en [TinyDB](https://github.com/kcochibili/TinyDB--Android-Shared-Preferences-Turbo)
y enviados a [Amplitude](https://github.com/amplitude/Amplitude-Android), [Firebase Analitycs](https://firebase.google.com/docs/crashlytics), [Mixpanel](https://mixpanel.com/es/) para el analisis de datos.
(ver estadisticas [aqui](https://rebrand.ly/lugumixpanel))

```java
/** Created by Luis Mesa on 12/11/20 */

public static void getLinkAndPlay(Context mContext, String linkYT, int opcion) {
    new YouTubeExtractor(mContext) {
        @Override
        public void onExtractionComplete(SparseArray < YtFile > ytFiles, VideoMeta vMeta) {
            if (ytFiles != null) {
                // Iterate over itags
                for (int i = 0, itag; i < ytFiles.size(); i++) {
                    itag = ytFiles.keyAt(i);
                    // ytFile represents one file with its url and meta data
                    YtFile ytFile = ytFiles.get(itag);

                    // Itag correspondiente a url de audio.
                    if (itag == 258 || itag == 256 || itag == 141 || itag == 140) {
                        if (ytFiles.get(itag).getUrl() != null) {
                            String linkCancion = ytFiles.get(itag).getUrl();
                            ReproducirCancion(mContext, linkCancion);
                            break;
                        }
                    }
                }
            }
        }
    }.extract(linkYT);
}


public static void ReproducirCancion(Context mContext, String linkCancion) {
    if (musicPlayer != null) {
        musicPlayer.setSource(linkCancion);
        // reproducir
        musicPlayer.PlayOrPause(MediaNotificationManager.STATE_PLAY);

        //region PlaySong (estadisticas) 
        JSONObject props = new JSONObject();
        try {
            Bundle params = new Bundle();
            params.putString("Id", tinydb.getString(TBidCancionSonando));
            params.putString("Nombre", tinydb.getString(TBnombreCancionSonando));
            params.putString("Artista", tinydb.getString(TBartistaCancionSonando));
            params.putString("Categoria", tinydb.getString(TBcategoriaCancionSonando));
            params.putString("LinkYT", tinydb.getString(TBlinkCancionSonando));

            mFirebaseAnalytics.logEvent(mixPlaySong, params);
            mixpanel.track(mixPlaySong, params);
            Amplitude.getInstance().logEvent(mixPlaySong, params);
        } catch (JSONException e) {
            e.printStackTrace();
        }
        //endregion
    }
}

```

<!-- ACKNOWLEDGMENTS -->
## Acknowledgments 💬

Agradecimiento y creditos a las siguientes herramientas/librerias:

* [BottomNavigationBar](https://github.com/Dimezis/BottomNavigationBar)
* [CircleImageView](https://github.com/hdodenhof/CircleImageView)
* [WaveView](https://github.com/narayanacharya6/WaveView)
* [Flaticon](https://www.flaticon.es/)
* [Font Awesome](https://fontawesome.com)
* [Htextview](https://github.com/hanks-zyh/HTextView)
* [SpinKit](https://github.com/ybq/Android-SpinKit)
